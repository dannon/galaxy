define("mvc/visualization/visualization-view",["exports","mvc/ui/ui-thumbnails"],function(e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var t=function(e){return e&&e.__esModule?e:{default:e}}(i),a=Backbone.View.extend({initialize:function(e){var i=this;this.setElement($("<div/>")),this.model=new Backbone.Model,$.ajax({url:Galaxy.root+"api/datasets/"+e.dataset_id}).done(function(e){0===e.visualizations.length?i.$el.append($("<div/>").addClass("errormessagelarge").append($("<p/>").text("Unfortunately we could not identify a suitable plugin. Feel free to contact us if you are aware of visualizations for this datatype."))):(i.model.set({dataset:e}),i.render())})},render:function(){var e=this,i=this.model.get("dataset");this.vis_index={},this.vis_array=[],_.each(i.visualizations,function(i,t){var a={id:t,name:i.name,keywords:i.keywords||[],title:i.html,image_src:i.logo?Galaxy.root+i.logo:null,description:i.description||"No description available.",regular:i.regular,visualization:i};e.vis_index[a.id]=a,e.vis_array.push(a)}),this.types=new t.default.View({title_default:"Suggested plugins",title_list:"List of available plugins",collection:this.vis_array,ondblclick:function(i){var t=e.vis_index[i];$("#galaxy_main").attr("src",t.visualization.href)}}),this.$el.empty().append(this.types.$el)}});e.default={View:a}});