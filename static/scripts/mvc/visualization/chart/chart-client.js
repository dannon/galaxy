define("mvc/visualization/chart/chart-client",["exports","utils/deferred","mvc/ui/ui-modal","mvc/ui/ui-portlet","mvc/ui/ui-misc","utils/utils","mvc/visualization/chart/components/model","mvc/visualization/chart/views/editor","mvc/visualization/chart/views/viewer"],function(e,i,t,a,n,r,o,d,l){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var u=s(i),c=s(t),v=(s(a),s(n),s(r),s(o)),f=s(d),h=s(l),p=Backbone.View.extend({initialize:function(e){var i=this;this.options=e,this.modal=parent.Galaxy&&parent.Galaxy.modal||new c.default.View,this.setElement("<div/>"),$.ajax({url:Galaxy.root+"api/datasets/"+e.dataset_id}).done(function(t){i.dataset=t,i.chart=new v.default({},e.charts_dict),i.chart.definition=e.visualization_plugin,window.console.log(i.chart.definition),i.deferred=new u.default,i.viewer=new h.default(i),i.editor=new f.default(i),i.$el.append(i.viewer.$el),i.$el.append(i.editor.$el),i.go(i.chart.load()?"viewer":"editor"),i.render()}).fail(function(e){var t=e.responseJSON&&e.responseJSON.err_msg;i.errormessage=t||"Import failed for unkown reason."})},render:function(){},go:function(e){$(".tooltip").hide(),this.viewer.hide(),this.editor.hide(),this[e].show()},split:function(e){var i=e.split(/_(.+)/);return i.length>=2?i[0]+"/"+i[1]:e}});e.default={View:p}});