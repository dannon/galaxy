define("mvc/visualization/chart/chart-client",["exports","mvc/ui/ui-modal","mvc/ui/ui-portlet","mvc/ui/ui-misc","utils/utils","mvc/visualization/chart/components/model","utils/deferred","mvc/visualization/chart/views/viewer","mvc/visualization/chart/views/editor"],function(e,i,t,a,n,o,r,l,s){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0});var d=u(i),c=(u(t),u(a),u(n),u(o)),v=u(r),f=u(l),h=u(s),p=Backbone.View.extend({initialize:function(e){var i=this;this.options=e,this.modal=parent.Galaxy&&parent.Galaxy.modal||new d.default.View,this.setElement("<div/>"),$.ajax({url:Galaxy.root+"api/visualizations/"+e.id}).done(function(e){window.console.log(e),i.visualization=e,i.chart=new c.default({},e.latest_revision.config.chart_dict),i.deferred=new v.default,i.viewer=new f.default(i),i.editor=new h.default(i),i.$el.append(i.viewer.$el),i.$el.append(i.editor.$el),i.render()}).fail(function(e){var t=e.responseJSON&&e.responseJSON.err_msg;i.errormessage=t||"Import failed for unkown reason."})},render:function(){this.visualization.plugin.static_url,this.visualization.type},go:function(e){$(".tooltip").hide(),this.viewer.hide(),this.editor.hide(),this[e].show()},split:function(e){var i=e.split(/_(.+)/);return i.length>=2?i[0]+"/"+i[1]:e}});e.default={View:p}});