define(["viz/visualization","libs/bbi/bigwig"],function(a,b){var c=a.GenomeDataManager.extend({load_data:function(a,c,d,e){var f=$.Deferred();this.set_data(a,f);var g=Galaxy.root+"datasets/"+this.get("dataset").id+"/display",h=this;new $.Deferred;return $.when(b.makeBwg(g)).then(function(b,c){$.when(b.readWigData(a.get("chrom"),a.get("start"),a.get("end"))).then(function(b){var c=[],d={max:Number.MIN_VALUE};b.forEach(function(a){d.max!==a.min-1&&(c.push([d.max+1,0]),c.push([a.min-2,0])),c.push([a.min-1,a.score]),c.push([a.max,a.score]),d=a});var e={data:c,region:a,dataset_type:"bigwig"};h.set_data(a,e),f.resolve(e)})}),f}});return{BBIDataManager:c}});
//# sourceMappingURL=../../maps/viz/bbi-data-manager.js.map