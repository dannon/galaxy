define(["mvc/ui/ui-modal"],function(a){var b=Backbone.View.extend({initialize:function(){this.modal=null},makeModalIframe:function(c){var d=window.Galaxy.config.communication_server_host,e=window.Galaxy.config.communication_server_port,f=escape(window.Galaxy.user.attributes.username),g=escape(window.Galaxy.config.persistent_communication_rooms),h="?username="+f+"&persistent_communication_rooms="+g,i=d+":"+e+h,j=null,k=null,l='<iframe class="f-iframe fade in communication-iframe" src="'+i+'"> </iframe>',m='<i class="fa fa-comment" aria-hidden="true" title="Communicate with other users"></i><i class="fa fa-expand expand-compress-modal" aria-hidden="true" title="Maximize"></i><i class="fa fa-times close-modal" aria-hidden="true" title="Close"></i>',n=350,o=600,p="ui-modal chat-modal";return $(".chat-modal").length>0&&$(".chat-modal").remove(),b.modal=new a.View({body:l,height:n,width:o,closing_events:!0,title_separator:!1,cls:p}),b.modal.show(),j=$(".chat-modal .modal-header"),k=$(".chat-modal .modal-body"),j.addClass("modal-header-body"),k.addClass("modal-header-body"),j.find("h4").remove(),j.removeAttr("min-height padding border"),j.append(m),$(".close-modal").click(function(a){$(".chat-modal").css("display","none")}),$(".expand-compress-modal").click(function(a){$(".expand-compress-modal").hasClass("fa-expand")?($(".chat-modal .modal-dialog").width("1000px"),$(".chat-modal .modal-body").height("575px"),$(".expand-compress-modal").removeClass("fa-expand").addClass("fa-compress"),$(".expand-compress-modal").attr("title","Minimize"),$(".expand-compress-modal").css("margin-left","96.2%")):($(".chat-modal .modal-dialog").width(o+"px"),$(".chat-modal .modal-body").height(n+"px"),$(".expand-compress-modal").removeClass("fa-compress").addClass("fa-expand"),$(".expand-compress-modal").attr("title","Maximize"),$(".expand-compress-modal").css("margin-left","93.2%"))}),this},render:function(){var a=this,b={};return b={id:"show-chat-online",icon:"fa-comment-o",tooltip:"Chat online",visible:!1,onclick:a.makeModalIframe}}});return{GenericNavView:b}});
//# sourceMappingURL=../../maps/layout/generic-nav-view.js.map