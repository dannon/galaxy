{"version":3,"sources":["../../src/layout/scratchbook.js"],"names":["define","Frames","Backbone","View","extend","initialize","options","self","this","frames","visible","setElement","$el","buttonActive","collection","add","id","icon","tooltip","onclick","active","set","toggle","show_note","note_cls","hide","onbeforeunload","length","buttonLoad","e","show","on","note","history_cache","addDataset","dataset_id","current_dataset","Galaxy","currHistoryPanel","history_id","historyId","name","model","get","dataset_ids","each","push","_findDataset","dataset","offset","history_details","dataset_list","pos","indexOf","_loadDatasetOffset","frame","new_dataset_id","_loadDataset","new_dataset","config","trigger","_","menu","disabled","callback","require","DATA","Dataset","$","when","fetch","then","is_tabular","find","data_type","title","url","content","createTabularDatasetChunkedView","TabularDataset","toJSON","embedded","height","root","addTrackster","viz_id","visualization","trackster","viz","Visualization","ui","TracksterUI","frame_config","type","parent_elt","view_config","container","dbkey","stand_alone","latest_revision","drawables","view","d","hda_ldda","create_visualization","viewport","bookmarks","target","window","open","location","noscratchbook","$galaxy_main","parent","document","attr"],"mappings":"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","file":"scratchbook.js"}