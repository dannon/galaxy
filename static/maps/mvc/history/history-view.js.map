{"version":3,"sources":["../../../src/mvc/history/history-view.js"],"names":["define","LIST_VIEW","HISTORY_MODEL","HISTORY_CONTENTS","HISTORY_PREFS","HDA_LI","HDCA_LI","USER","ERROR_MODAL","faIconButton","BASE_MVC","_l","_super","ModelListPanel","HistoryView","extend","_logNamespace","HDAViewClass","HDAListItemView","HDCAViewClass","HDCAListItemView","collectionClass","HistoryContents","modelCollectionKey","tagName","className","prototype","emptyMsg","noneFoundMsg","searchPlaceholder","FETCH_COLLECTION_COUNTS_DELAY","initialize","attributes","call","this","linkTarget","_createDefaultCollection","history","model","freeModel","clearUpdateTimeout","_setUpListeners","on","error","xhr","options","msg","details","errorHandler","loading-done","self","_","delay","contents","fetchCollectionCounts","views:ready view:attached view:removed","view","_renderSelectButton","view:attached","scrollTo","loadHistory","historyId","contentsOptions","silent","info","setModel","History","id","trigger","fetchWithContents","always","render","refreshContents","refresh","$","when","_setUpCollectionListeners","listenTo","collection","fetching-more","_toggleContentsLoadingIndicator","$emptyMessage","hide","fetching-more-done","_showLoadingIndicator","speed","callback","$indicator","$el","html","text","slideDown","isUndefined","fxSpeed","_hideLoadingIndicator","slideUp","remove","_buildNewRender","$newRender","$where","multiselectActions","length","views","hideSelectors","find","$existing","title","classes","faIcon","prependTo","_renderEmptyMessage","$whereTo","$emptyMsg","empty","get","active","append","show","searchFor","haveSearchDetails","$scrollContainer","$list","renderItems","models","_filterCollection","_renderPagination","_renderSomeItems","toggle","$paginationControls","shouldPaginate","templates","pagination","current","currentPage","last","getLastPage","tooltip","map","m","_createItemView","push","_renderItemView$el","_filterItem","includeHidden","hidden","includeDeleted","isDeletedOrPurged","_getItemViewClass","contentType","TypeError","_getItemViewOptions","expanded","storage","isExpanded","hasUser","ownedByCurrUser","_setUpItemViewListeners","panel","v","addExpanded","collapsed","removeExpanded","collapseAll","clearExpanded","getSelectedModels","events","clone","click .show-selectors-btn","click > .controls .prev","click > .controls .next","change > .controls .pages","click .messages [class$=message]","_clickPrevPage","ev","fetchPrevPage","_clickNextPage","fetchNextPage","_changePageSelect","page","currentTarget","val","fetchPage","toggleShowDeleted","undefined","setIncludeDeleted","fetchCurrentPage","renderAll","toggleShowHidden","store","setIncludeHidden","_firstSearch","inputSelector","log","searchItems","searchInput","progressivelyFetchDetails","progress","response","limit","offset","done","clearSearch","status","readyState","isString","message","errorModal","badGatewayErrorModal","ajaxErrorModal","clearMessages","$target","$messages","children","fadeOut","scrollToHid","hid","scrollToItem","first","viewsWhereModel","ordinalIndicator","number","numStr","charAt","toString","mainTemplate","wrapTemplate","controlsTemplate","paginationTemplate","el","controls"],"mappings":"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","file":"history-view.js"}