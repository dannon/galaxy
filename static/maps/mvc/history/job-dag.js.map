{"version":3,"sources":["../../../src/mvc/history/job-dag.js"],"names":["define","GRAPH","addLogging","_super","Graph","JobDAG","options","self","this","filters","_jobsData","_historyContentsMap","_toolMap","_outputIdToJobMap","noInputJobs","noOutputJobs","filteredSetMetadata","filteredErroredJobs","dataKeys","call","_","pick","omit","prototype","constructor","init","defaults","excludeSetMetadata","_initFilters","push","jobData","job","tool_id","id","excludeErroredJobs","state","isArray","concat","debug","length","read","data","has","preprocessHistoryContents","historyContents","preprocessTools","tools","preprocessJobs","jobs","createGraph","_filterJobs","info","forEach","content","i","clone","each","tool","sort","map","preprocessJob","cmpCreate","a","b","create_time","index","inputs","_processInputs","size","outputs","_processOutputs","inputMap","input","nameInJob","_validateInputOutput","name","inputOutput","Error","JSON","stringify","src","outputMap","output","filter","j","_filterJob","jobsData","createVertex","targetId","inputId","sourceId","joblessVertex","createJobLessVertex","createEdge","directed","dataset","toVerticesAndEdges","contentId","JOBLESS_ID_MANGLER","mangledId","weakComponentGraphArray","dag","weakComponents","component","vertices","aCreateTime","bCreateTime","_jobsDataMap","jobsDataMap"],"mappings":"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","file":"job-dag.js"}