{"version":3,"sources":["../../../src/mvc/history/history-view-edit-current.js"],"names":["define","HISTORY_MODEL","HISTORY_VIEW_EDIT","BASE_MVC","_l","HistoryViewPrefs","SessionStorageModel","extend","defaults","tagsEditorShown","annotationEditorShown","scrollPosition","toString","JSON","stringify","this","toJSON","storageKey","_super","HistoryViewEdit","CurrentHistoryView","className","prototype","HDCAViewClass","foldoutStyle","emptyMsg","join","initialize","attributes","preferences","_","id","pick","keys","call","panelStack","currentContentId","_setUpListeners","panel","on","set","loadCurrentHistory","loadHistory","url","Galaxy","root","switchToHistory","historyId","user","isAnonymous","trigger","$","when","createNewHistory","setModel","model","render","log","checkForUpdates","_setUpModelListeners","listenTo","change:nice_size change:size","arguments","change:id","once","_setUpCollectionListeners","collection","newState","oldState","get","storage","includeHidden","removeItemView","_setUpBehaviors","$where","$el","_debouncedScrollCaptureHandler","debounce","is","scrollTop","$scrollContainer","off","_buildNewRender","$newRender","find","prependTo","_renderQuotaMessage","$whereTo","templates","quotaMsg","_renderTags","tagsEditor","toggle","hidden","_renderAnnotation","annotationEditor","_swapNewRender","delay","pos","scrollTo","_attachItems","_setCurrentContentById","addItemView","options","view","length","_collapseDrilldownPanel","_setUpItemViewListeners","expanded:drilldown","v","drilldown","_expandDrilldownPanel","collapsed:drilldown","setCurrentContent","removeClass","addClass","viewFromModelId","push","$controls","add","$list","hide","parentName","delegateEvents","appendTo","pop","show","events","clone","click .uploader-link","ev","upload","click .get-data-link","$toolMenu","parent","click","listenToGalaxy","galaxy","galaxy_main:load","data","pathToMatch","fullpath","hdaId","useToURLRegexMap","display","edit","report_error","rerun","show_params","regex","use","result","match","center-panel:load","connectToQuotaMeter","quotaMeter","showQuotaMessage","hideQuotaMessage","isOverQuota","clearMessages","$target","isUndefined","$messages","children","currentTarget","not","fadeOut","fxSpeed","remove","$msg","slideDown","slideUp","unhideHidden","self","confirm","contents","_filterAndUpdate","visible","deleted","purged","done","renderItems","jQuery","deleteHidden","quotaMsgTemplate","wrapTemplate"],"mappings":"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","file":"history-view-edit-current.js"}