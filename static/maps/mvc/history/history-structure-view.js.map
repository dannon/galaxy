{"version":3,"sources":["../../../src/mvc/history/history-structure-view.js"],"names":["define","JobDAG","JOB","JOB_LI","DATASET_LI","BASE_MVC","_l","logNamespace","window","HistoryStructureComponent","Backbone","View","extend","LoggableMixin","_logNamespace","className","_INITIAL_ZOOM_LEVEL","_MIN_ZOOM_LEVEL","_LINK_ID_SEP","_VERTEX_NAME_DATA_KEY","JobItemClass","JobListItemView","ContentItemClass","DatasetListItemView","initialize","attributes","this","log","component","_liMap","_createVertexItems","zoomLevel","layout","_createLayout","layoutOptions","view","eachVertex","vertex","li","type","data","job","_createJobListItem","_createContentListItem","name","debug","jobData","Job","outputModels","_","map","get","output","model","contents","type_id","outputCollection","reset","historyId","id","tool","listenTo","renderGraph","foldout","content","layoutDefaults","linkSpacing","linkWidth","linkHeight","jobWidth","jobHeight","jobSpacing","linkAdjX","linkAdjY","options","defaults","clone","vertices","values","nodeMap","links","svg","width","height","forEach","v","j","node","x","y","edges","e","link","source","target","push","render","$el","html","join","$graph","appendTo","$","_render","_updateLayout","css","renderSVG","position","top","left","is","delay","size","each","jobId","Math","max","x1","y1","x2","y2","JSON","stringify","highlightConnect","d","d3","select","classed","addClass","unhighlightConnect","removeClass","empty","append","attr","connections","selectAll","enter","on","_connectionPath","CURVE_X","controlY","events","mouseover .graph > .list-item","ev","highlightConnected","currentTarget","mouseout  .graph > .list-item","jobElement","highlight","undefined","jobClassFn","jQuery","prototype","connectionClass","$hoverTarget","call","edge","ancestorId","ancestorLi","eachEdge","descendantId","descendantLi","zoom","level","min","toString","VerticalHistoryStructureComponent","nodeId","CURVE_Y","controlX","HistoryStructureView","_layoutToComponentClass","horizontal","vertical","_DEFAULT_LAYOUT","contains","keys","_processTools","tools","_processJobs","jobs","_createDAG","dag","historyContents","toJSON","excludeSetMetadata","excludeErroredJobs","_createComponents","structure","componentViews","weakComponentGraphArray","componentGraph","_createComponent","ComponentClass","$components","changeLayout","Error"],"mappings":"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","file":"history-structure-view.js"}