{"version":3,"sources":["../../../src/libs/jquery/jstorage.js"],"names":["_init","localStorageReallyWorks","window","localStorage","setItem","removeItem","BogusQuotaExceededErrorOnIos5","_storage_service","_backend","_observer_update","jStorage_update","E3","globalStorage","location","hostname","E4","_storage_elm","document","createElement","addBehavior","style","behavior","getElementsByTagName","appendChild","load","E","setAttribute","save","data","getAttribute","E5","E6","jStorage","_load_storage","_handleTTL","_setupObserver","_handlePubSub","addEventListener","event","persisted","_storageObserver","_reloadData","attachEvent","setInterval","updateTime","clearTimeout","_observer_timeout","setTimeout","_checkUpdatedKeys","newCrc32List","oldCrc32List","JSON","parse","stringify","_storage","__jstorage_meta","CRC32","key","updated","removed","hasOwnProperty","push","String","substr","_fireObservers","keys","action","concat","_observers","i","len","length","j","jlen","_publishChange","Date","toString","E8","_storage_size","_save","_dropOldEvents","E7","_checkKey","TypeError","curtime","TTL","nextExpire","Infinity","changed","deleted","_ttl_timeout","PubSub","pubelm","_pubsubCurrent","_pubsub_last","_fireSubscribers","channel","payload","_pubsub_observers","retire","splice","_publish","unshift","murmurhash2_32_gc","str","seed","k","l","h","charCodeAt","JSTORAGE_VERSION","$","jQuery","decode","prototype","evalJSON","parseJSON","Object","toJSON","encode","Error","_XMLService","isXML","elm","documentElement","ownerDocument","nodeName","xmlNode","this","XMLSerializer","serializeToString","E1","xml","E2","xmlString","resultXML","dom_parser","DOMParser","parseFromString","ActiveXObject","_xmlString","xml_doc","async","loadXML","call","version","set","value","options","deleteKey","_is_xml","setTTL","get","def","ttl","Number","getTTL","flush","storageObj","F","index","storageSize","currentBackend","storageAvailable","listenKeyChange","callback","stopListening","subscribe","publish","reInit"],"mappings":"CA0BC,WA6HG,QAASA,KAEL,GAAIC,IAA0B,CAC9B,IAAG,gBAAkBC,QACjB,IACIA,OAAOC,aAAaC,QAAQ,WAAY,UACxCH,GAA0B,EAC1BC,OAAOC,aAAaE,WAAW,YACjC,MAAMC,IAMZ,GAAGL,EACC,IACOC,OAAOC,eACNI,EAAmBL,OAAOC,aAC1BK,EAAW,eACXC,EAAmBF,EAAiBG,iBAE1C,MAAMC,QAGP,IAAG,iBAAmBT,QACvB,IACOA,OAAOU,gBAEpBL,EAD8B,aAA5BL,OAAOW,SAASC,SACCZ,OAAOU,cAAc,yBAGrBV,OAAOU,cAAcV,OAAOW,SAASC,UAE1CN,EAAW,gBACXC,EAAmBF,EAAiBG,iBAE1C,MAAMK,QAGP,CAED,GADAC,EAAeC,SAASC,cAAc,SACnCF,EAAaG,YA8BZ,YADAH,EAAe,KA1BfA,GAAaI,MAAMC,SAAW,yBAG9BJ,SAASK,qBAAqB,QAAQ,GAAGC,YAAYP,EAErD,KACIA,EAAaQ,KAAK,YACrB,MAAMC,GAEHT,EAAaU,aAAa,WAAY,MACtCV,EAAaW,KAAK,YAClBX,EAAaQ,KAAK,YAGtB,GAAII,GAAO,IACX,KACIA,EAAOZ,EAAaa,aAAa,YACpC,MAAMC,IAEP,IACIrB,EAAmBO,EAAaa,aAAa,mBAChD,MAAME,IAEPxB,EAAiByB,SAAWJ,EAC5BpB,EAAW,mBAQnByB,IAGAC,IAGAC,IAGAC,IAGG,oBAAsBlC,SACrBA,OAAOmC,iBAAiB,WAAY,SAASC,GACtCA,EAAMC,WACLC,MAEL,GAOX,QAASC,KACL,GAAIb,GAAO,IAEX,IAAe,oBAAZpB,EAA+B,CAC9BQ,EAAaQ,KAAK,WAElB,KACII,EAAOZ,EAAaa,aAAa,YACpC,MAAMC,IAEP,IACIrB,EAAmBO,EAAaa,aAAa,mBAChD,MAAME,IAEPxB,EAAiByB,SAAWJ,EAGhCK,IAGAC,IAEAE,IAMJ,QAASD,KACU,gBAAZ3B,GAA0C,iBAAZA,EAC1B,oBAAsBN,QACrBA,OAAOmC,iBAAiB,UAAWG,GAAkB,GAErDvB,SAASyB,YAAY,YAAaF,GAErB,oBAAZhC,GACLmC,YAAYH,EAAkB,KAQtC,QAASA,KACL,GAAII,EAEJC,cAAaC,GACbA,EAAoBC,WAAW,WAE3B,GAAe,gBAAZvC,GAA0C,iBAAZA,EAC7BoC,EAAarC,EAAiBG,oBAC5B,IAAe,oBAAZF,EAA+B,CACpCQ,EAAaQ,KAAK,WAClB,KACIoB,EAAa5B,EAAaa,aAAa,mBAC1C,MAAMC,KAGRc,GAAcA,GAAcnC,IAC3BA,EAAmBmC,EACnBI,MAGL,IAMP,QAASA,KACL,GACIC,GADAC,EAAeC,EAAKC,MAAMD,EAAKE,UAAUC,EAASC,gBAAgBC,OAGtEf,KACAQ,EAAeE,EAAKC,MAAMD,EAAKE,UAAUC,EAASC,gBAAgBC,OAElE,IAAIC,GACAC,KACAC,IAEJ,KAAIF,IAAOP,GACP,GAAGA,EAAaU,eAAeH,GAAK,CAChC,IAAIR,EAAaQ,GAAK,CAClBE,EAAQE,KAAKJ,EACb,UAEDP,EAAaO,IAAQR,EAAaQ,IAAiD,MAAzCK,OAAOZ,EAAaO,IAAMM,OAAO,EAAE,IAC5EL,EAAQG,KAAKJ,GAKzB,IAAIA,IAAOR,GACJA,EAAaW,eAAeH,KACvBP,EAAaO,IACbC,EAAQG,KAAKJ,GAKzBO,GAAeN,EAAS,WACxBM,EAAeL,EAAS,WAS5B,QAASK,GAAeC,EAAMC,GAE1B,GADAD,KAAUE,OAAOF,OACJ,WAAVC,EAAoB,CACnBD,IACA,KAAI,GAAIR,KAAOW,GACRA,EAAWR,eAAeH,IACzBQ,EAAKJ,KAAKJ,EAGlBS,GAAS,UAEb,IAAI,GAAIG,GAAE,EAAGC,EAAML,EAAKM,OAAQF,EAAEC,EAAKD,IAAI,CACvC,GAAGD,EAAWH,EAAKI,IACf,IAAI,GAAIG,GAAE,EAAGC,EAAOL,EAAWH,EAAKI,IAAIE,OAAQC,EAAEC,EAAMD,IACpDJ,EAAWH,EAAKI,IAAIG,GAAGP,EAAKI,GAAIH,EAGxC,IAAGE,EAAW,KACV,IAAI,GAAII,GAAE,EAAGC,EAAOL,EAAW,KAAKG,OAAQC,EAAEC,EAAMD,IAChDJ,EAAW,KAAKI,GAAGP,EAAKI,GAAIH,IAS5C,QAASQ,KACL,GAAI9B,KAAe,GAAI+B,OAAQC,UAE/B,IAAe,gBAAZpE,GAA0C,iBAAZA,EAC7B,IACID,EAAiBG,gBAAkBkC,EACrC,MAAOiC,GAELrE,GAAW,MAEE,oBAAZA,IACLQ,EAAaU,aAAa,kBAAmBkB,GAC7C5B,EAAaW,KAAK,YAGtBa,KAMJ,QAASP,KAEL,GAAG1B,EAAiByB,SAChB,IACIsB,EAAWH,EAAKC,MAAMU,OAAOvD,EAAiByB,WACjD,MAAMD,GAAIxB,EAAiByB,SAAW,SAEvCzB,GAAiByB,SAAW,IAEhC8C,GAAgBvE,EAAiByB,SAAS8B,OAAOvD,EAAiByB,UAAUuC,OAAO,EAE/EjB,EAASC,kBACTD,EAASC,oBAETD,EAASC,gBAAgBC,QACzBF,EAASC,gBAAgBC,UAOjC,QAASuB,KACLC,GACA,KACIzE,EAAiByB,SAAWmB,EAAKE,UAAUC,GAExCtC,IACCA,EAAaU,aAAa,WAAWnB,EAAiByB,UACtDhB,EAAaW,KAAK,aAEtBmD,EAAgBvE,EAAiByB,SAAS8B,OAAOvD,EAAiByB,UAAUuC,OAAO,EACtF,MAAMU,KAQX,QAASC,GAAUzB,GACf,IAAIA,GAAsB,gBAAPA,IAAiC,gBAAPA,GACzC,KAAM,IAAI0B,WAAU,qCAExB,IAAU,mBAAP1B,EACC,KAAM,IAAI0B,WAAU,oBAExB,QAAO,EAMX,QAASjD,KACL,GAAIkD,GAASf,EAAGgB,EAAK7B,EAAO8B,EAAaC,EAAAA,EAAUC,GAAU,EAAOC,IAIpE,IAFA5C,aAAa6C,GAETpC,EAASC,iBAA0D,gBAAhCD,GAASC,gBAAgB8B,IAAhE,CAKAD,GAAW,GAAIT,MACfU,EAAM/B,EAASC,gBAAgB8B,IAE/B7B,EAAQF,EAASC,gBAAgBC,KACjC,KAAIa,IAAKgB,GACFA,EAAIzB,eAAeS,KACfgB,EAAIhB,IAAMe,SACFC,GAAIhB,SACJb,GAAMa,SACNf,GAASe,GAChBmB,GAAU,EACVC,EAAQ5B,KAAKQ,IACRgB,EAAIhB,GAAKiB,IACdA,EAAaD,EAAIhB,IAM1BiB,IAAcC,EAAAA,IACbG,EAAe3C,WAAWb,EAAYoD,EAAaF,IAIpDI,IACCT,IACAL,IACAV,EAAeyB,EAAS,aAOhC,QAASrD,KACL,GAAIiC,GAAGC,CACP,IAAIhB,EAASC,gBAAgBoC,OAA7B,CAGA,GAAIC,GACAC,EAAiBC,CAErB,KAAIzB,EAAEC,EAAIhB,EAASC,gBAAgBoC,OAAOpB,OAAO,EAAGF,GAAG,EAAGA,IACtDuB,EAAStC,EAASC,gBAAgBoC,OAAOtB,GACtCuB,EAAO,GAAKE,IACXD,EAAiBD,EAAO,GACxBG,EAAiBH,EAAO,GAAIA,EAAO,IAI3CE,GAAeD,GASnB,QAASE,GAAiBC,EAASC,GAC/B,GAAGC,EAAkBF,GACjB,IAAI,GAAI3B,GAAE,EAAGC,EAAM4B,EAAkBF,GAASzB,OAAQF,EAAEC,EAAKD,IAEzD6B,EAAkBF,GAAS3B,GAAG2B,EAAS7C,EAAKC,MAAMD,EAAKE,UAAU4C,KAQ7E,QAASjB,KACL,GAAI1B,EAASC,gBAAgBoC,OAA7B,CAMA,IAAI,GAFAQ,IAAU,GAAIxB,MAAS,IAEnBN,EAAE,EAAGC,EAAMhB,EAASC,gBAAgBoC,OAAOpB,OAAQF,EAAEC,EAAKD,IAC9D,GAAGf,EAASC,gBAAgBoC,OAAOtB,GAAG,IAAM8B,EAAO,CAE/C7C,EAASC,gBAAgBoC,OAAOS,OAAO/B,EAAGf,EAASC,gBAAgBoC,OAAOpB,OAASF,EACnF,OAIJf,EAASC,gBAAgBoC,OAAOpB,cACzBjB,GAASC,gBAAgBoC,QAWxC,QAASU,GAASL,EAASC,GACnB3C,EAASC,kBACTD,EAASC,oBAETD,EAASC,gBAAgBoC,SACzBrC,EAASC,gBAAgBoC,WAG7BrC,EAASC,gBAAgBoC,OAAOW,UAAU,GAAI3B,MAAMqB,EAASC,IAE7DlB,IACAL,IAmBJ,QAAS6B,GAAkBC,EAAKC,GAO5B,IANA,GAIIC,GAHAC,EAAIH,EAAIjC,OACRqC,EAAIH,EAAOE,EACXtC,EAAI,EAGDsC,GAAK,GACRD,EAC0B,IAApBF,EAAIK,WAAWxC,IACO,IAAtBmC,EAAIK,aAAaxC,KAAc,GACT,IAAtBmC,EAAIK,aAAaxC,KAAc,IACT,IAAtBmC,EAAIK,aAAaxC,KAAc,GAErCqC,EAAqB,YAAV,MAAJA,KAA4C,YAAZA,IAAM,IAAoB,QAAW,IAC5EA,GAAKA,IAAM,GACXA,EAAqB,YAAV,MAAJA,KAA4C,YAAZA,IAAM,IAAoB,QAAW,IAE5EE,EAAqB,YAAV,MAAJA,KAA4C,YAAZA,IAAM,IAAoB,QAAW,IAAOF,EAEnFC,GAAK,IACHtC,CAGN,QAAQsC,GACJ,IAAK,GAAGC,IAA8B,IAAxBJ,EAAIK,WAAWxC,EAAI,KAAc,EAC/C,KAAK,GAAGuC,IAA8B,IAAxBJ,EAAIK,WAAWxC,EAAI,KAAc,CAC/C,KAAK,GAAGuC,GAA0B,IAApBJ,EAAIK,WAAWxC,GACzBuC,EAAqB,YAAV,MAAJA,KAA4C,YAAZA,IAAM,IAAoB,QAAW,IAOpF,MAJAA,IAAKA,IAAM,GACXA,EAAqB,YAAV,MAAJA,KAA4C,YAAZA,IAAM,IAAoB,QAAW,IAC5EA,GAAKA,IAAM,GAEJA,IAAM,EAlmBjB,GAEIE,GAAmB,QAGnBC,EAAI7G,OAAO8G,QAAU9G,OAAO6G,IAAM7G,OAAO6G,MAGzC5D,GACIC,MACIlD,OAAOiD,OAASjD,OAAOiD,KAAKC,OAASlD,OAAOiD,KAAK8D,SACjDnD,OAAOoD,UAAUC,UAAY,SAASX,GAAK,MAAO1C,QAAO0C,GAAKW,aAC9DJ,EAAEK,WACFL,EAAEI,SACN9D,UACIgE,OAAOC,QACPpH,OAAOiD,OAASjD,OAAOiD,KAAKE,WAAanD,OAAOiD,KAAKoE,SACrDR,EAAEO,OAId,MAAK,SAAWnE,IAAW,aAAeA,IACtC,KAAM,IAAIqE,OAAM,kGAGpB,IAgCI9B,GA9BApC,GAAYC,iBAAiBC,WAG7BjD,GAAoByB,SAAS,MAG7BhB,EAAe,KAGf8D,EAAgB,EAGhBtE,GAAW,EAGX4D,KAGAtB,GAAoB,EAGpBrC,EAAmB,EAGnByF,KAGAJ,GAAgB,GAAInB,MAapB8C,GAMIC,MAAO,SAASC,GACZ,GAAIC,IAAmBD,EAAMA,EAAIE,eAAiBF,EAAM,GAAGC,eAC3D,SAAOA,GAA+C,SAA7BA,EAAgBE,UAO7CP,OAAQ,SAASQ,GACb,IAAIC,KAAKN,MAAMK,GACX,OAAO,CAEX,KACI,OAAO,GAAIE,gBAAgBC,kBAAkBH,GAChD,MAAMI,GACH,IACI,MAAOJ,GAAQK,IAClB,MAAMC,KAEX,OAAO,GAOXpB,OAAQ,SAASqB,GACb,GAOAC,GAPIC,EAAc,aAAetI,UAAU,GAAKuI,YAAaC,iBACpDxI,OAAOyI,eAAiB,SAASC,GACtC,GAAIC,GAAU,GAAIF,eAAc,mBAGhC,OAFAE,GAAQC,MAAQ,QAChBD,EAAQE,QAAQH,GACTC,EAGX,SAAIL,IAGJD,EAAYC,EAAWQ,KAAK,aAAe9I,SAAU,GAAKuI,YAAgBvI,OAAQoI,EAAW,cACtFN,KAAKN,MAAMa,IAAWA,IAsfzCxB,GAAE/E,UAEEiH,QAASnC,EAaToC,IAAK,SAASzF,EAAK0F,EAAOC,GAMtB,GALAlE,EAAUzB,GAEV2F,EAAUA,MAGS,mBAATD,GAEN,MADAnB,MAAKqB,UAAU5F,GACR0F,CAGX,IAAG1B,EAAYC,MAAMyB,GACjBA,GAASG,SAAQ,EAAKlB,IAAIX,EAAYF,OAAO4B,QAC3C,CAAA,GAAmB,kBAATA,GACZ,MACKA,IAAyB,gBAATA,KAErBA,EAAQhG,EAAKC,MAAMD,EAAKE,UAAU8F,KAUtC,MAPA7F,GAASG,GAAO0F,EAEhB7F,EAASC,gBAAgBC,MAAMC,GAAO,KAAO8C,EAAkBpD,EAAKE,UAAU8F,GAAQ,YAEtFnB,KAAKuB,OAAO9F,EAAK2F,EAAQ/D,KAAO,GAEhCrB,EAAeP,EAAK,WACb0F,GAUXK,IAAK,SAAS/F,EAAKgG,GAEf,MADAvE,GAAUzB,GACPA,IAAOH,GACHA,EAASG,IAAgC,gBAAjBH,GAASG,IAAoBH,EAASG,GAAK6F,QAC3D7B,EAAYR,OAAO3D,EAASG,GAAK2E,KAEjC9E,EAASG,GAGF,mBAAT,GAAuB,KAAOgG,GAS/CJ,UAAW,SAAS5F,GAEhB,MADAyB,GAAUzB,GACPA,IAAOH,WACCA,GAASG,GAE0B,gBAAhCH,GAASC,gBAAgB8B,KACjC5B,IAAOH,GAASC,gBAAgB8B,WACvB/B,GAASC,gBAAgB8B,IAAI5B,SAGjCH,GAASC,gBAAgBC,MAAMC,GAEtCsB,IACAL,IACAV,EAAeP,EAAK,YACb,IAYf8F,OAAQ,SAAS9F,EAAKiG,GAClB,GAAItE,IAAW,GAAIT,KAGnB,OAFAO,GAAUzB,GACViG,EAAMC,OAAOD,IAAQ,EAClBjG,IAAOH,KAEFA,EAASC,gBAAgB8B,MACzB/B,EAASC,gBAAgB8B,QAI1BqE,EAAI,EACHpG,EAASC,gBAAgB8B,IAAI5B,GAAO2B,EAAUsE,QAEvCpG,GAASC,gBAAgB8B,IAAI5B,GAGxCsB,IAEA7C,IAEAwC,KACO,IAWfkF,OAAQ,SAASnG,GACb,GAA2BiG,GAAvBtE,GAAW,GAAIT,KAEnB,OADAO,GAAUzB,GACPA,IAAOH,IAAYA,EAASC,gBAAgB8B,KAAO/B,EAASC,gBAAgB8B,IAAI5B,IAC/EiG,EAAMpG,EAASC,gBAAgB8B,IAAI5B,GAAO2B,EACnCsE,GAAO,GAEX,GAQXG,MAAO,WAKH,MAJAvG,IAAYC,iBAAiBC,WAC7BuB,IACAL,IACAV,EAAe,KAAM,YACd,GAQX8F,WAAY,WACR,QAASC,MAET,MADAA,GAAE7C,UAAY5D,EACP,GAAIyG,IASfC,MAAO,WACH,GAAgB3F,GAAZ2F,IACJ,KAAI3F,IAAKf,GACFA,EAASM,eAAeS,IAAW,mBAALA,GAC7B2F,EAAMnG,KAAKQ,EAGnB,OAAO2F,IASXC,YAAa,WACT,MAAOnF,IAQXoF,eAAgB,WACZ,MAAO1J,IAQX2J,iBAAkB,WACd,QAAS3J,GASb4J,gBAAiB,SAAS3G,EAAK4G,GAC3BnF,EAAUzB,GACNW,EAAWX,KACXW,EAAWX,OAEfW,EAAWX,GAAKI,KAAKwG,IASzBC,cAAe,SAAS7G,EAAK4G,GAGzB,GAFAnF,EAAUzB,GAENW,EAAWX,GAAf,CAIA,IAAI4G,EAEA,kBADOjG,GAAWX,EAItB,KAAI,GAAIY,GAAID,EAAWX,GAAKc,OAAS,EAAGF,GAAG,EAAGA,IACvCD,EAAWX,GAAKY,IAAMgG,GACrBjG,EAAWX,GAAK2C,OAAO/B,EAAE,KAWrCkG,UAAW,SAASvE,EAASqE,GAEzB,GADArE,GAAWA,GAAW,IAAIpB,YACtBoB,EACA,KAAM,IAAIb,WAAU,sBAEpBe,GAAkBF,KAClBE,EAAkBF,OAEtBE,EAAkBF,GAASnC,KAAKwG,IASpCG,QAAS,SAASxE,EAASC,GAEvB,GADAD,GAAWA,GAAW,IAAIpB,YACtBoB,EACA,KAAM,IAAIb,WAAU,sBAGxBkB,GAASL,EAASC,IAMtBwE,OAAQ,WACJhI,MAKRzC","file":"jstorage.js"}