parcelRequire=function(e,r,n){var t="function"==typeof parcelRequire&&parcelRequire,i="function"==typeof require&&require;function u(n,o){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!o&&f)return f(n,!0);if(t)return t(n,!0);if(i&&"string"==typeof n)return i(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}a.resolve=function(r){return e[n][1][r]||r};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,a,l,l.exports)}return r[n].exports;function a(e){return u(a.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=t;for(var o=0;o<n.length;o++)u(n[o]);return u}({1:[function(require,module,exports) {
$(document).ready(function(){require(["libs/toastr","mvc/tours"],function(e,t){window.TourGenerator=Backbone.View.extend({initialize:function(t){var o=this;o.toolId=t.toolId,o.toolVersion=t.toolVersion,$("#execute").attr("tour_id","execute"),e.info("Tour generation might take some time."),$.getJSON("/api/webhooks/tour_generator/data/",{tool_id:o.toolId,tool_version:o.toolVersion},function(t){t.success?t.data.useDatasets?(Galaxy.currHistoryPanel.refreshContents(),setTimeout(function(){var n=[],r=0;_.each(t.data.hids,function(e){var t=Galaxy.currHistoryPanel.collection.where({hid:e})[0];t&&n.push(t)}),n.length===t.data.hids.length?_.each(n,function(e){"ok"===e.get("state")?r++:e.on("change:state",function(e){"ok"===e.get("state")&&r++,r===n.length&&o._generateTour(t.data.tour)})}):(e.warning("Cannot generate a tour."),console.error("Some of the test datasets cannot be found in the history."))},1500)):o._generateTour(t.data.tour):(e.warning("Cannot generate a tour."),console.error("Tour Generator: "+t.error))})},_generateTour:function(e){var o=t.giveTourWithData(e);$("#execute").on("mousedown",function(){o&&o.end()})}})})});
},{}]},{},[1])
//# sourceMappingURL=/script.js.map